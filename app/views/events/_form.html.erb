<%= form_with(model: @event, local: true) do |f| %>
  <%= render "shared/error_messages", object: f.object %>

  <div class="field">
    <%= f.label :title, 'イベント名', class: 'font-weight-bold' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span><br />
    <%= f.text_field :title, autofocus: true, class: 'form-control mb-2' %>
  </div>

  <div class="field">
    <%= f.label :num_of_applicant, '募集人数', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span><br />
    <%= f.text_field :num_of_applicant, autofocus: true, class: 'form-control mb-2' %>
  </div>

  <div class="field">
    <%= f.label :event_date, 'イベント開催日', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span>
  </div>
  <div class="mb-4 ">
    <%= f.datetime_select :event_date, {
      use_month_numbers: true,
      start_year: Time.zone.now.year,
      start_month: Time.zone.now.month,
      start_day: Time.zone.now.day,
      end_year:  (Time.zone.now.year + 1),
      end_month: Time.zone.now.year,
      end_day: Time.zone.now.day,
      date_separator: ' / ',
      datetime_separator: ' / ',
    },
    { class: '', style: 'width: 30%; display: inline-block;'}
  %>
  </div>

  <div class="field">
    <%= f.label :event_date, 'イベント終了日', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span>
  </div>
  <div class="mb-4 ">
    <%= f.datetime_select :event_end_date, {
      use_month_numbers: true,
      start_year: Time.zone.now.year,
      start_month: Time.zone.now.month,
      start_day: Time.zone.now.day,
      end_year:  (Time.zone.now.year + 1),
      end_month: Time.zone.now.year,
      end_day: Time.zone.now.day,
      date_separator: ' / ',
      datetime_separator: ' / ',
    },
    { class: '', style: 'width: 30%; display: inline-block;'}
  %>
  </div>

  <div class="field mb-4">
    <%= f.label 'イベント写真', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span><br />
    <% if @event.image.attached? %>
      <%= image_tag(@event.image.variant(resize: "150x150"), class: 'w-100 event-img text-center mb-2', alt: @event.title.presence || 'イベントの画像') %>
    <% end %>
    <%= f.file_field :image, class: 'p-3', style: 'border: solid 1px lightgray;width:100%;border-radius:5px;' %>
  </div>
  
  <div class="field">
    <%= f.label :place_name, '開催場所', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span><br />
    <%= f.text_field :place_name, autofocus: true, class: 'form-control mb-2' %>
  </div>

  <div class="field">
    <%= f.label :place_address, '開催場所の住所', class: 'font-weight-bold mb-2' %><br />
    <%= f.text_field :place_address, autofocus: true, class: 'form-control mb-2' %>
  </div>

  <div class="field">
    <%= f.label :detail, 'イベント詳細', class: 'font-weight-bold mb-2' %><span style="font-size:10px;" class="ml-2 badge badge-danger">必須</span><br />
    <%= f.text_area :detail, autofocus: true, class: 'form-control mb-2', rows: 10 %>
  </div>

  <div class="actions">
    <%= f.submit "イベントを作成する", class: 'sign-up-btn btn-block mt-3' %>
  </div>
<% end %>